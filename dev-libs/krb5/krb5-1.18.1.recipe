SUMMARY="The Kerberos Network Protocol"
DESCRIPTION="Kerberos is a network authentication protocol. It is designed to \
provide strong authentication for client/server applications by using \
secret-key cryptography. A free implementation of this protocol is available \
from the Massachusetts Institute of Technology. Kerberos is available in many \
commercial products as well."
HOMEPAGE="https://web.mit.edu/kerberos/"
COPYRIGHT="1985-2020 Massachusetts Institute of Technology and its \
contributors"
LICENSE="MIT"
REVISION="1"
SOURCE_URI="https://kerberos.org/dist/krb5/1.18/krb5-$portVersion.tar.gz"
CHECKSUM_SHA256="02a4e700f10936f937cd1a4c303cab8687a11abecc6107bd4b706b9329cd5400"
SOURCE_DIR="krb5-$portVersion"
ARCHITECTURES="x86_gcc2 x86 x86_64"
SECONDARY_ARCHITECTURES="x86_gcc2 x86"

PROVIDES="
	krb5$mySuffix$secondaryArchSuffix = $portVersion compat >= 1.1.0
	"

REQUIRES="
	haiku$secondaryArchSuffix
	ca_root_certificates
	"

PROVIDES_devel="
	krb5$mySuffix${secondaryArchSuffix}_devel = $portVersion
	"

REQUIRES_devel="
	krb5$mySuffix$secondaryArchSuffix == $portVersion base
	"

PATCHES="krb5-$portVersion.patchset"

BUILD_REQUIRES="
	devel:libz$secondaryArchSuffix >= 1.2.3
	"

BUILD_PREREQUIRES="
	haiku${secondaryArchSuffix}_devel
	cmd:autoreconf
	cmd:awk
	cmd:bison
	cmd:gcc$secondaryArchSuffix
	cmd:ld$secondaryArchSuffix
	cmd:make
	cmd:perl >= 5
	cmd:sed
	"

BUILD()
{
        cd src
        autoreconf -vfi
        runConfigure configure
	make $jobArgs
}

INSTALL()
{
	make install
}

TEST()
{
	make test
}
